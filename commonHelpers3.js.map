{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nlet formData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || {};\n\nconst updateFormData = throttle(event => {\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData));\n}, 500);\n\nconst handleFormSubmit = event => {\n  event.preventDefault();\n\n  if (formData.email && formData.message) {\n    console.log(formData);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    form.reset();\n    formData = {};\n  }\n};\n\nconst populateForm = () => {\n  Object.entries(formData).forEach(([name, value]) => {\n    form.elements[name].value = value;\n  });\n};\n\nform.addEventListener('input', updateFormData);\nform.addEventListener('submit', handleFormSubmit);\n\ndocument.addEventListener('DOMContentLoaded', populateForm);\n"],"names":["form","LOCAL_STORAGE_KEY","formData","updateFormData","throttle","event","handleFormSubmit","populateForm","name","value"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAoB,sBAE1B,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAiB,CAAC,GAAK,GAEtE,MAAME,EAAiBC,EAASC,GAAS,CACvCH,EAASG,EAAM,OAAO,MAAQA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQJ,EAAmB,KAAK,UAAUC,CAAQ,CAAC,CAClE,EAAG,GAAG,EAEAI,EAAmBD,GAAS,CAChCA,EAAM,eAAc,EAEhBH,EAAS,OAASA,EAAS,UAC7B,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAiB,EACzCD,EAAK,MAAK,EACVE,EAAW,CAAA,EAEf,EAEMK,EAAe,IAAM,CACzB,OAAO,QAAQL,CAAQ,EAAE,QAAQ,CAAC,CAACM,EAAMC,CAAK,IAAM,CAClDT,EAAK,SAASQ,GAAM,MAAQC,CAChC,CAAG,CACH,EAEAT,EAAK,iBAAiB,QAASG,CAAc,EAC7CH,EAAK,iBAAiB,SAAUM,CAAgB,EAEhD,SAAS,iBAAiB,mBAAoBC,CAAY"}